import{d as w,r as n,o as z,c as g,b as h,F as B,j as I,a as v,g as l,h as i,k as V,w as L,p as M,i as P,l as j,_ as F}from"./index-765a7307.js";import{a as G}from"./index-cdc21fc1.js";const N=a=>(M("data-v-ed1068ab"),a=a(),P(),a),U={class:"library-container"},E=N(()=>h("div",{class:"library-title"},"游戏库",-1)),O={class:"library-content"},R=w({__name:"index",emits:["changeMenu"],setup(a,{emit:f}){const x=j(),s=n(),d=n(12),r=n(1),p={currentPage:1,pageSize:12},c=n(!1),u=async()=>{c.value=!0;const t=await G(p);s.value=t.data,c.value=!1},y=t=>{x.push({name:"game",params:{id:t}})},b=()=>{p.currentPage=r.value,u()};return z(()=>{f("changeMenu","item2"),u()}),(t,o)=>{var _,m;const S=l("t-comment"),k=l("t-card"),C=l("t-pagination");return i(),g("div",U,[E,h("div",O,[(i(!0),g(B,null,I((_=s.value)==null?void 0:_.rows,e=>(i(),V(k,{key:e.id,class:"library-card",cover:e.game_t_img,theme:"poster2",style:{width:"384px",marginBottom:"20px"},onClick:$=>y(e.game_id),loading:c.value},{footer:L(()=>[v(S,{author:e.game_name},null,8,["author"])]),_:2},1032,["cover","onClick","loading"]))),128))]),v(C,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=e=>r.value=e),pageSize:d.value,"onUpdate:pageSize":o[1]||(o[1]=e=>d.value=e),total:(m=s.value)==null?void 0:m.total,onCurrentChange:b,pageSizeOptions:[],"show-jumper":""},null,8,["modelValue","pageSize","total"])])}}});const D=F(R,[["__scopeId","data-v-ed1068ab"]]);export{D as default};
